var applyChartDataInit = function () {
    applyChartData($("#gi_no").val(), 0);
}

//처음 페이지 로딩
$(window).load(function () {
    applyChartDataInit()
});

//모집분야별 클릭
$(document).on("click", ".btnField", function () {
    var partIdx = this.getAttribute("data-partIdx");
    var cnt = this.getAttribute("data-cnt");
    if (cnt == 0) {
        return false;
    }

    $.each($(".btnField"), function (i) {
        $(this).removeClass("on")
    });
    $(this).addClass("on");
    applyChartData($("#gi_no").val(), partIdx);
})

var applyChartData = function (giNo, partIdx) {
    var baseElement = document.querySelector(".devArea");
    if (baseElement != null) {
        $.ajax({
            type: "GET",
            url: "/Recruit/ApplyChartAjax?giNo=" + giNo + "&partIdx=" + partIdx,
            //data: param,
            // cache: false,
            async: false,
            success: function (data, textStatus, jqXHR) {
                baseElement.innerHTML = data;
            },
            error: function () {
                alert("에러!!")
            }
        });
    }
};

$(".btnPrint").on("click", function () {
    var giNo = this.getAttribute("data-gino");
    var url = "/recruit/ApplyChartPrint?giNo=" + giNo;
    OpenWin = window.open(url, 'print', 'toolbar=no,location=no,directories=no,status=no,scrollbars=yes,menubar=no,width=980,height=700');
})

